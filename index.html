<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="my notes">
<meta property="og:type" content="website">
<meta property="og:title" content="Linux-2017">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Linux-2017">
<meta property="og:description" content="my notes">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux-2017">
<meta name="twitter:description" content="my notes">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> Linux-2017 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Linux-2017</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/05/selinux.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hee shen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Linux-2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/05/selinux.html" itemprop="url">
                  selinux
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-05T20:27:29+08:00">
                2017-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="SELINUX"><a href="#SELINUX" class="headerlink" title="SELINUX"></a>SELINUX</h2><h4 id="Selinux简介"><a href="#Selinux简介" class="headerlink" title="Selinux简介"></a>Selinux简介</h4><p>SELinux: Secure Enhanced Linux, 是美国国家安全局(NSA=The National Security Agency)和SCC(SecureComputing Corporation)开发的 Linux的一个强制访问控制的<br>安全模块。2000年以GNU GPL发布,Linux内核2.6版本后集成在内核中．</p>
<h4 id="Selinux工作类型"><a href="#Selinux工作类型" class="headerlink" title="Selinux工作类型"></a>Selinux工作类型</h4><ul>
<li>Strict: centos5,每个进程都受到selinux的控制</li>
<li>Targeted: 用来保护常见的网络服务,仅有限进程受到selinux控制,只监控容易被入侵的进程,centos4只保护13个服务,centos5保护88个进程.</li>
<li>minimum: centos7,修改过的targeted,只对选择的网络服务.</li>
<li>mls: 提供MLS(多级安全)机制的安全性.</li>
<li>minimum和mls稳定性不足,未加以应用.</li>
</ul>
<h4 id="Selinux安全上下文"><a href="#Selinux安全上下文" class="headerlink" title="Selinux安全上下文"></a>Selinux安全上下文</h4><ul>
<li>在Selinux中,一切皆对象(object),由存放在inode的扩展属性域的安全元素所控制其访问</li>
<li>所有文件和端口资源和进程都具备安全标签:安全上下文(security context)</li>
<li><strong>安全上下文由5个元素组成</strong><ul>
<li>user:指示登陆系统的用户类型,如root,user_u,system_u多数本地进程都属于自由(unconfined)进程</li>
<li>role:定义文件,进程和用户的用途:文件:object_r,进程和用户:system_r</li>
<li>type:指定数据类型,规则中定义何种进程类型访问何种文件,target策略基于type实现,多服务共用:public_content_t．</li>
<li>sensitivity:限制访问的需要,由组织定义的分层安全级别,如unclassified,secret,top,secret,一个对象有且只有一个sensitivity,分15级,s0最低,Target策略默认使用s0</li>
<li>category:对于特定组织划分不分层的分类,如FBI Secret,NSA secret,一个对象可以有多个categroy,c0-c1023共1024个分类,target策略不使用category.</li>
<li>实际上下文:存放在文件系统中,ls -Z;ps -Z</li>
</ul>
</li>
<li>期望(默认)上下文:存放在二进制的SELINUX策略库(映射目录和期望安全上下文)中　　semanage fcontext -l</li>
</ul>
<h4 id="Selinux状态"><a href="#Selinux状态" class="headerlink" title="Selinux状态"></a>Selinux状态</h4><ul>
<li>enforcing:强制，每个受限的进程都必然受限</li>
<li>permissive:允许,每个受限的进程违规操作不会被禁止,但会被记录与审计日志</li>
<li>disabled:禁用</li>
</ul>
<h4 id="Selinux相关命令"><a href="#Selinux相关命令" class="headerlink" title="Selinux相关命令"></a>Selinux相关命令</h4><ul>
<li>getenforce:获取selinux当前状态</li>
<li>sestatus:查看selinux状态</li>
<li>setenforce 0|1<ul>
<li>0:设置为permissive</li>
<li>1:设置为enforcing</li>
</ul>
</li>
<li>给文件重新打安全标签<ul>
<li>chcon [option] … [-u USER][-r ROLE] [-t TYPE] FILE…</li>
<li>chcon [option]… –reference=RFILE FILE…</li>
<li>-R:递归打标</li>
</ul>
</li>
<li>恢复目录或文件默认的安全上下文:<ul>
<li>restorecon [-R] /path/to/somewhere</li>
</ul>
</li>
<li>semanage:来自policycoreutils-python包</li>
<li>查看安全上下文<ul>
<li>semanage fcontext -l</li>
</ul>
</li>
<li>添加<ul>
<li>semanage fcontext -a -t http_sys_content_t ‘/testdir(/.*)?’</li>
<li>restorecon -Rv /testdir</li>
</ul>
</li>
<li>删除<ul>
<li>semanage fcotext -d -t httpd_sys_content_t ‘/testdir(/.*)?’</li>
</ul>
</li>
</ul>
<h4 id="Selinux布尔值"><a href="#Selinux布尔值" class="headerlink" title="Selinux布尔值"></a>Selinux布尔值</h4><ul>
<li>布尔型规则<ul>
<li>getsebool</li>
<li>setsebool</li>
</ul>
</li>
<li>查看bool命令<ul>
<li>getsebool [-a] boolean</li>
<li>semanage boolean -l</li>
<li>semanage boolean -l -C 查看修改过的布尔值</li>
</ul>
</li>
<li>设置bool值命令<ul>
<li>setsebool [-p] boolean value (on,off)</li>
<li>setsebool [-p] boolean=value (0,1)</li>
</ul>
</li>
</ul>
<h4 id="Selinux日志管理"><a href="#Selinux日志管理" class="headerlink" title="Selinux日志管理"></a>Selinux日志管理</h4><ul>
<li>yum install setroublesshoot(重启生效) 将错误的信息写入/var/log/message</li>
<li>grep setroubleshoot  /var/log/message</li>
<li>sealert -l UUID 查看安全事件日志说明</li>
<li>sealert -a /var/log/audit/audit.log 扫描并分析日志</li>
</ul>
<h4 id="Selinux-help"><a href="#Selinux-help" class="headerlink" title="Selinux help"></a>Selinux help</h4><ul>
<li>yum install selinux-policy-doc (centos6,7)</li>
<li>mandb | makewhatis</li>
<li>man -k _selinux</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/05/awk.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hee shen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Linux-2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/05/awk.html" itemprop="url">
                  awk
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-05T20:06:09+08:00">
                2017-04-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>$$<br>awk<br>$$</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/03/vim.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hee shen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Linux-2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/03/vim.html" itemprop="url">
                  vim
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-03T14:14:08+08:00">
                2017-04-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="vim编辑器"><a href="#vim编辑器" class="headerlink" title="vim编辑器"></a>vim编辑器</h1><p>vim  [option] file</p>
<p>​    +#:打开文件后，直接让光标处于第＃行</p>
<p>​    +/pattern:打开文件后，直接让光标处于第一个被pattern匹配到的行的行首</p>
<p>​    +N file 直接打开file光标在第Ｎ行，默认在最后一行</p>
<p>​    -b file 二进制方式打开</p>
<p>​    -d file1 file2 比较多个文件</p>
<p>​    -m file 只读打开文件</p>
<p>ex file 或　vim -e 直接进入ex模式    </p>
<h2 id="Vim-命令模式光标跳转"><a href="#Vim-命令模式光标跳转" class="headerlink" title="Vim 命令模式光标跳转"></a>Vim 命令模式光标跳转</h2><p><strong>行首行尾跳转</strong></p>
<ul>
<li>^:调整至行首的第一个非空白字符</li>
<li>0:跳转至行首</li>
<li>$:跳转至行尾</li>
</ul>
<p><strong>行间移动</strong></p>
<ul>
<li>#:G扩展模式</li>
<li>#:跳转至由#指定行</li>
<li>Ｇ:最后一行</li>
<li>1G,gg:第一行</li>
</ul>
<p><strong>句间移动</strong></p>
<ul>
<li>):下一句</li>
<li>(:上一句</li>
</ul>
<p><strong>段落间移动</strong></p>
<ul>
<li>}:下一段</li>
<li>{:上一段</li>
</ul>
<p><strong>命令模式翻屏操作</strong></p>
<ul>
<li>Ctrl + f :向文件尾部翻一屏</li>
<li>Ctrl + b :向文件首部翻一屏</li>
<li>Ctrl + d :向文件尾部翻半屏</li>
<li>Ctrl + u: 向文件首部翻半屏</li>
</ul>
<p><strong>字符编辑</strong></p>
<ul>
<li>x:删除光标处的字符</li>
<li>#:删除光标处起始的#个字符</li>
<li>xp:交换光标所在处的字符及其后面字符的位置</li>
<li>~:转换大小写</li>
</ul>
<p><strong>删除命令</strong></p>
<ul>
<li>d:删除命令，可结合光标跳转字符，实现范围删除</li>
<li>d$:删除到行尾</li>
<li>d^:删除到非空行首</li>
<li>d0:删除到行首</li>
<li>dw:</li>
<li>de:</li>
<li>db:</li>
</ul>
<p><strong>复制命令</strong></p>
<ul>
<li>y:复制</li>
<li>y$</li>
<li>y0</li>
<li>y^</li>
<li>ye</li>
<li>yw</li>
<li>yb</li>
<li>yy:复制行</li>
<li>#yy复制多行</li>
</ul>
<p><strong>粘贴命令</strong></p>
<ul>
<li>p:缓冲区存的如果为整行，则粘贴当前光标所在行的下方；否则，则粘贴至当前光标所在行的后面</li>
<li>P:缓冲区存的如果为整行，则粘贴当前光标所在行的上方；否则，则粘贴至当前光标所在处的前面</li>
</ul>
<p><strong>撤销更改</strong></p>
<ul>
<li><p>u撤销最近的更改</p>
</li>
<li><p>#u撤销之前的多次更改</p>
</li>
<li><p>Ｕ撤销光标落在这行后所有此行的更改</p>
</li>
<li><p>按Ctrl -r 重做最后的撤销更改</p>
</li>
<li><p>.重复之前的操作</p>
</li>
<li><p>n.重复前一个操作n次</p>
<p>​</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/03/page.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hee shen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Linux-2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/03/page.html" itemprop="url">
                  笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-03T14:06:11+08:00">
                2017-04-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h2><p>ls  -a 　all<br>    -l  额外的信息<br>    -R 递归<br>    -ld 目录和符合链接信息<br>    -1 文件分行显示<br>    -S 按文件大小排序<br>    -t mtime排序<br>    -u 配合-t选项，显示并按atime从新到旧排序<br>    -U 按目录存放顺序显示<br>    -X 按文件后缀排序</p>
<h2 id="stat"><a href="#stat" class="headerlink" title="stat"></a>stat</h2><p>access time 读取文件内容<br>modify time 改变文件内容(数据)<br>change time 元数据发生改变</p>
<p>##　文件通配符<br>[:digit]<br>[:lower:]<br>[:upper:]<br>[:alpha:]<br>[:alnum:]<br>[:blank:] 水平空白字符<br>[:space:] 水平或垂直空白字符<br>[:punct:] 标点符号<br>[:print:] 可打印字符<br>[:cntrl:] 控制字符<br>[:graph:] 图形字符<br>[:xigit:] 十六进制字符</p>
<h2 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h2><p>-i 交互式<br>-r,-R 递归<br>-a 归档，相当与-dR –preserv=all<br>-d: –no-dereference –preserv=link 不复制原文件，只复制链接名<br>–preserv=[=ATTR_LIST]</p>
<pre><code>mode:权限
ownership:属主属组
timestamp:
links
xattr
context
all
</code></pre><p>-p:等于–preserv=mode,ownership,timestamp<br>-v:–verbose</p>
<h2 id="硬链接"><a href="#硬链接" class="headerlink" title="硬链接"></a>硬链接</h2><p>创建硬链接会增加额外的记录项以引用文件<br>对应与同一文件系统上一个物理文件<br>每个目录引用相同的inode号<br>创建时链接数递增<br>删除文件时:</p>
<pre><code>rm命令递减计数的链接
文件要存在，至少有一个链接数
当链接数为０，文件则被删除
</code></pre><p>不能跨越分区或驱动器</p>
<h2 id="软链接"><a href="#软链接" class="headerlink" title="软链接"></a>软链接</h2><p>１．一个符合链接指向另一个文件<br>２．ls -l 显示链接名和引用的文件<br>３．一个符合链接的内容是它引用文件的名称<br>４．可以对目录进行<br>５．可以跨分区<br>５指向的是另一个文件的路径；其大小为指向的路径字符串的长度；不增加或减少目标文件inode的引用计数；</p>
<h2 id="file-确定文件内容"><a href="#file-确定文件内容" class="headerlink" title="file 确定文件内容"></a>file 确定文件内容</h2><p>file [option] filename<br>-b 列出文件辨识结果，不显示文件名<br>-f 列车指定文件中内容的文件类型<br>-F 使用指定分割符合替换输出文件名后默认的”:”分割符<br>-L 查看对应软链接对应文件的文件类型</p>
<p>##　管道与重定向</p>
<pre><code>&gt; 把STDOUT重定向到文件
２&gt;　把STDERR重定向到文件
&amp;&gt; 把所有输出重定向到文件
&gt;文件内容会被覆盖 
set -C:全局禁止覆盖
set +C:允许覆盖
&gt;&gt; 追加
2&gt; 覆盖重定向错误输出数据流
２&gt;&gt; 追加重定向错误输出数据流
():合并多个程序的STDOUT
( cal 2007 ; cal 2008 ) &gt; all.txt
</code></pre><h2 id="tr"><a href="#tr" class="headerlink" title="tr"></a>tr</h2><p>tr [option] set1 set2<br>-c 取字符集的补集<br>-d –delete<br>-s 去重复<br>-t 将第一个字符集对应的字符转换为第二个字符集</p>
<h2 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h2><p>文件<br>r 可使用文件查看类工具获取其内容<br>w 可修改其内容<br>x 可以把此文件提请内核启动为一个进程<br>目录<br>r 可以使用ls查看次目录中文件列表<br>w 可在此目录中创建文件，也可删除此目录中的文件<br>x 可以使用ls -l查看此目录中文件列表，可以cd进去<br>目录 X:只给目录x权限，不给文件x权限</p>
<h2 id="特殊权限"><a href="#特殊权限" class="headerlink" title="特殊权限"></a>特殊权限</h2><p>###　可执行文件上的SUID权限<br>１.任何一个可执行程序文件能不能启动为进程:取决发起者对程序文件是否拥有执行权限<br>２.启动为进程之后，其进程的属主为原程序文件的属主<br>３.SUID只对二进制可执行程序有效<br>４.SUID设置在目录上无意义<br>权限设定:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod u+s file</div><div class="line">chmod u-s file</div></pre></td></tr></table></figure></p>
<h3 id="可执行文件上的SGID权限"><a href="#可执行文件上的SGID权限" class="headerlink" title="可执行文件上的SGID权限"></a>可执行文件上的SGID权限</h3><p>１．任何一个可执行程序文件能不能启动为进程；取决发起者对程序文件是否拥有执行权限<br>２．启动为进程之后，其进程的属主为远程序文件的属组<br>３．权限设定<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod g+s file</div><div class="line">chmod g-s file</div></pre></td></tr></table></figure></p>
<h3 id="目录上的SGID权限"><a href="#目录上的SGID权限" class="headerlink" title="目录上的SGID权限"></a>目录上的SGID权限</h3><p>１．默认情况下，用户创建文件时，其属组为此用户所属的主组<br>２．一旦某目录被设定了SGID,则对此目录有写权限的用户在此目录中创建的文件所属的组为此目录的属组．<br>３．通常用于创建一个协作目录<br>４．权限设定<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod g+s dir</div><div class="line">chmod g-s dir</div></pre></td></tr></table></figure></p>
<h3 id="Sticky位"><a href="#Sticky位" class="headerlink" title="Sticky位"></a>Sticky位</h3><p>１．具有写权限的目录通常用户可以删除该目录中的任何文件，无论该文件的权限或拥有权<br>２．在目录设置Sticky位，只有文件的所有者或root可以删除该文件<br>３．Sticky设置在文件上无意义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod o+t dir</div><div class="line">chmod o-t dir</div></pre></td></tr></table></figure></p>
<h3 id="设定文件特点属性"><a href="#设定文件特点属性" class="headerlink" title="设定文件特点属性"></a>设定文件特点属性</h3><p>chattr +i 不能删除，改名，更改<br>chattr +a 只能追加内容<br>lsattr 显示特定属性</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/02/index.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hee shen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Linux-2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/02/index.html" itemprop="url">
                  notes
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-02T12:00:09+08:00">
                2017-04-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="复习"><a href="#复习" class="headerlink" title="复习"></a>复习</h1><p>PS1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">PS1=&quot;\[\E[31m\][\u@\h \w]\\$\[\e[0m\]]&quot;</div></pre></td></tr></table></figure></p>
<p>\e \033         \u 当前用户<br>\h 主机名简称     \H 主机名<br>\w 当前工作目录     \W 当前工作目录基名<br>\t 24小时时间格式\T 12小时时间格式<br>! 命令历史数     #开机后命令历史数</p>
<h2 id="shell中可执行命令有两类"><a href="#shell中可执行命令有两类" class="headerlink" title="shell中可执行命令有两类"></a>shell中可执行命令有两类</h2><p>内部命令:由shell自带的，而且可以通过某命令形式提供</p>
<pre><code>help 内部命令列表
enable cmd 启用
enable -n cmd 禁用内部命令
enable -n 查看所有禁用的内部命令
</code></pre><p>外部命令:在文件系统路径下有对应的可执行程序文件</p>
<h2 id="查看路径-which-a-–skip-alias-whereis"><a href="#查看路径-which-a-–skip-alias-whereis" class="headerlink" title="查看路径:which -a | –skip-alias; whereis"></a>查看路径:which -a | –skip-alias; whereis</h2><h2 id="查看制定的命令是内部还是外部-type-command"><a href="#查看制定的命令是内部还是外部-type-command" class="headerlink" title="查看制定的命令是内部还是外部 type command"></a>查看制定的命令是内部还是外部 type command</h2><h2 id="执行外部命令"><a href="#执行外部命令" class="headerlink" title="执行外部命令"></a>执行外部命令</h2><h3 id="Hash缓存表"><a href="#Hash缓存表" class="headerlink" title="Hash缓存表"></a>Hash缓存表</h3><pre><code>系统初始hash表为空，当外部命令执行时，默认会到PATH路径下寻找该命令，找到后会将这条命令的路径记录到hash表中，当再次使用该命令时，shell解释器首先会查看hash表，存在将执行之，如果不存在，将会去path路径下寻找。利用hash缓存表可大大提供命令的调用速率。
</code></pre><h3 id="常见的用法"><a href="#常见的用法" class="headerlink" title="常见的用法"></a>常见的用法</h3><pre><code>hash 显示hash缓存
hash -l 显示hash缓存，可作为输入使用
hash -p path name 将命令全路径path起别名为name
hash -t name 打印缓存中name的路径
hash -d name 清除name缓存
hash -r 清楚缓存
</code></pre><h3 id="如果命令别名同原命令同名，如果要执行原命令，可使用-command"><a href="#如果命令别名同原命令同名，如果要执行原命令，可使用-command" class="headerlink" title="如果命令别名同原命令同名，如果要执行原命令，可使用\command"></a>如果命令别名同原命令同名，如果要执行原命令，可使用\command</h3><h3 id="date"><a href="#date" class="headerlink" title="date"></a>date</h3><p>系统时钟:由Linux内核通过cpu工作频率进行的<br>硬件时钟:主板<br>hwclock,clock:显示硬件时钟<br>/etc/localtime 时区</p>
<h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><p>创建:screen -S [session]<br>键入:screen -x<br>剥离当前screen会话:ctrl+a,d<br>显示所有:screen -ls<br>恢复:screen -r </p>
<h2 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h2><p>-E 默认 不支持\解释功能<br>-n 不自动换行<br>-e 启用\字符的解释功能</p>
<pre><code>\a 发出警告声
\b 退格键
\c 最后不加上换行符号
\n 换行且光标移至行首
\r 回车，即光标移至行首
\t 插入tab
\\插入\字符
\0nnn 插入nnn(八进制) 所代表的ASCII字符
\xHH插入HH(十六进制) 所代表的ASCII字
</code></pre><h2 id="双击TAB键"><a href="#双击TAB键" class="headerlink" title="双击TAB键"></a>双击TAB键</h2><p>command 2tab 所有命令行补全<br>string2tab 以string开头命令<br>/2tab 显示所有根目录下一级目录，包括隐藏目录<br>./2tab 当前目录下的子目录，包括隐藏目录<br>*2tab 当前目录下子目录，不包括隐藏目录<br>～2tab 所有用户列表<br>$2tab 所有变量<br>@2tab /etc/hosts记录<br>=2tab 相当与ls -A</p>
<h2 id="命令行历史"><a href="#命令行历史" class="headerlink" title="命令行历史"></a>命令行历史</h2><p>重复前一个命令，有四种方法<br>    ！！<br>    ！-1<br>    ctrl + p<br>    上方向键<br>ctrl + n 显示当前历史中的下一条命令，但不执行<br>！n 执行history命令输出对应序号n的命令<br>！-n 执行history历史中倒数的第n个命令<br>！string 重复前一个以“string”开头的命令<br>！string:p 仅打印 不执行<br>！$:p 打印输出!$的内容<br>！<em>:p 打印输出!</em>(所有参数)的内容<br>^string 删除上一条命令中的string<br>^string1^string2 将上一条命令中的第一个string1替换为string2<br>!!:gs/string1/string2 将上一条命令中所有的string1都替换为string2<br>调用前一个命令的最后一个参数:$!;esc .;alt .;<br>command !^:上一个命令的一个参数做cmd的参数<br>    !$:最后一个参数<br>    !<em>:全部参数<br>    !:n:第n个参数<br>command !n:^ 调用第n条命令的第一个参数<br>    !n:$<br>    !n:m<br>    !n:</em><br>command !string:^ 从命令历史中搜索以string开头的命令，并获取它的第一个参数<br>    !string:$<br>    !string:n<br>    !string:*<br>history<br>    -c 情况命令历史<br>    -d offset 删除历史中第offset个命令<br>     n 显示最近的n条历史<br>    -a 追加本次会话新执行的命令历史列表至历史文件<br>    -n 读历史文件中未读的行到历史列表<br>    -r 读历史文件附加到历史列表<br>    -w 保存历史列表到指定的历史文件<br>    -p 展开历史参数成多行，但不存在历史列表中<br>    -s 展开历史参数成一行，附加在历史列表后<br>HISTSIZE：命令历史记录的条数<br>HISTFILE：指定历史文件，默认为～/.bash_history<br>HISTFILESIZE:命令历史文件记录历史的条数<br>HISTTIMEFORMAT=“%F %T” 显示时间<br>HISTIGNORE=“str1:str2:…” 忽略string1,string2历史<br>控制命令历史的记录方式:<br>环境变量:HISTCONTROL</p>
<pre><code>ignoredups 默认,忽略重复的命令，连续且相同为”重复“
ignorespace 忽略所有以空白开头的命令
ignoreboth edups and space
erasedups 删除重复命令
</code></pre><p>export 变量名=”值“</p>
<p>bash 快捷键<br>ctrl + l 清屏<br>ctrl + o 执行当前命令，并重新显示本命令<br>ctrl + s 阻止屏幕输出，锁定<br>ctrl + q 允许屏幕输出<br>ctrl + c 终止命令<br>ctrl + z 挂起命令<br>ctrl + a 光标移动到命令行首,相当与home<br>ctrl + e 光标移动到行尾，相当与end<br>ctrl + f 光标向右移动一个字符<br>ctrl + b 光标向左移动一个字符<br>alt + f 光标向右移动一个单词尾<br>alt + b 光标向左移动一个单词首<br>ctrl + xx 光标在命令行首和光标之间移动<br>ctrl + u 从光标处删除至命令行尾<br>ctrl + k 从光标处删除至命令行尾<br>ctrl + w 从光标处向左删除只单词首<br>alt + d 从光标处向右删除至单词尾<br>ctrl + d 删除光标处的一个字符<br>ctrl + h 删除光标前的一个字符<br>ctrl + y 将删除的字符粘贴至光标后<br>alt + c 从光标出开始向右更改为首字母大写的单词<br>alt + u 从光标处开始向右更改为全部大写的单词<br>alt + l 从光标处更改为全部小写的单词<br>ctrl + t 交换光标处和之前字符位置<br>alt + t 交换光标处和之前的单词位置<br>alt + N 提示输入指定字符后，重复显示该字符Ｎ次<br>注意:alt组合快捷键经常和其他软件冲突</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/30/blog.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Hee shen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Linux-2017">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/30/blog.html" itemprop="url">
                  未命名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-30T16:20:24+08:00">
                2017-03-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="文件查找与解压缩"><a href="#文件查找与解压缩" class="headerlink" title="文件查找与解压缩"></a>文件查找与解压缩</h1><h2 id="Locate"><a href="#Locate" class="headerlink" title="Locate"></a>Locate</h2><p>查询系统上预建的文件索引数据库<br>/var/lib/mlocate/mlocate.db<br>依赖于事先构建的索引<br>索引的构建是在系统较为空闲时自动进行(周期性任务),管理员手动更新数据库(updatedb)<br>索引构建过程需要遍历整个根文件系统,极消耗资源<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">locate KEYWORD</div><div class="line">	-i 不区分大小写的搜索</div><div class="line">	-n N 之列举N个匹配项目</div><div class="line">	-r 使用Regex来搜索</div></pre></td></tr></table></figure></p>
<h2 id="Find"><a href="#Find" class="headerlink" title="Find"></a>Find</h2><p>find [OPTION]… [查找路径] [查找条件] [处理动作]<br>查找路径:指定具体目标路径;默认为当前目录<br>查找条件:指定的查找标准,可以文件名、大小、类型、权限等标准进行;默认为找出指定路径下的所有文件<br>处理动作:对符合条件的文件做操作,默认输出至屏幕<br>指搜索层级</p>
<pre><code>-maxdepth level 最大搜索目录深度,指定目录为第1级
-mindepth level 最大搜索目录深度
</code></pre><p>根据文件名和inode查找:</p>
<pre><code>-name &quot;文件名称&quot;:支持使用glob *, ?, [], [^]
-iname &quot;文件名称&quot;:不区分字母大小写
-inum n 按inode号查找
-samefile name 相同inode号的文件
-links n 链接数为n的文件
-regex &quot;PATTERN&quot;:以PATTERN匹配整个文件路径字符串,而不仅仅是文件名称
</code></pre><p>根据属主、属组查找:</p>
<pre><code>-user USERNAME:查找属主为指定用户(UID)的文件
-group GRPNAME: 查找属组为指定组(GID)的文件
-uid UserID:查找属主为指定的UID号的文件
-gid GroupID:查找属组为指定的GID号的文件
-nouser:查找没有属主的文件
-nogroup:查找没有属组的文件
</code></pre><p>根据文件类型查找:</p>
<pre><code>-type TYPE:
• f: 普通文件
• d: 目录文件
• l: 符号链接文件
• s:套接字文件
• b: 块设备文件
• c: 字符设备文件
• p: 管道文件
</code></pre><p> 组合条件:</p>
<pre><code>与:-a
或:-o
非:-not, !
</code></pre><p>德· 摩根定律:<br>(非 A) 或 (非 B) = 非(A 且 B)<br>(非 A) 且 (非 B) = 非(A 或 B)<br> 示例:<br>!A -a !B = !(A -o B)<br>!A -o !B = !(A -a B)</p>
<p>根据权限查找:</p>
<pre><code>-perm [/|-]MODE
MODE: 精确权限匹配
/MODE:任何一类(u,g,o)对象的权限中只要能一位匹配即可,或关系,+ 从centos7开始淘汰
-MODE:每一类对象都必须同时拥有指定权限,与关系0 表示不关注
• find -perm 755 会匹配权限模式恰好是755的文件
• 只要当任意人有写权限时,find -perm +222就会匹配
• 只有当每个人都有写权限时,find -perm -222才会匹配
• 只有当其它人(other)有写权限时,find -perm -002才会匹配
</code></pre><p>处理动作</p>
<pre><code>-print:默认的处理动作,显示至屏幕
-ls:类似于对查找到的文件执行“ls -l”命令
-delete:删除查找到的文件
-fls file:查找到的所有文件的长格式信息保存至指定文件中
-ok COMMAND {} \; 对查找到的每个文件执行由 COMMAND指定的命令,对于每个文件执行命令之前,
-exec COMMAND {} \; 对查找到的每个文件执行由COMMAND指定的命令
{}: 用于引用查找到的文件名称自身
find传递查找到的文件至后面指定的命令时,查找到所有符合条件的文件一次性传递给后面的命令都会交互式要求用户确认
</code></pre><p>参数替换xargs</p>
<pre><code>由于很多命令不支持管道|来传递参数,而日常工作中有这个必要,所以就有了xargs命令
xargs用于产生某个命令的参数,xargs 可以读入 stdin 的数据,并且以空格符或回车符将 stdin 的数据分隔成为arguments
注意:文件名或者是其他意义的名词内含有空格符的情况
有些命令不能接受过多参数,命令执行可能会失败,xargs可以解决
</code></pre><p> 示例:</p>
<pre><code>ls f* |xargs rm
find /sbin -perm +700 |ls -l 这个命令是错误的
find /sbin -perm +7000 | xargs ls –l
find和xargs格式:find | xargs COMMAND
</code></pre><h2 id="压缩、解压缩及归档工具"><a href="#压缩、解压缩及归档工具" class="headerlink" title="压缩、解压缩及归档工具"></a>压缩、解压缩及归档工具</h2><pre><code>file-roller
compress/uncompress: .Z
gzip/gunzip: .gz
bzip2/bunzip2: .bz2
xz/unxz: .xz
zip/unzip
tar
cpio
</code></pre><h3 id="compress-uncompress"><a href="#compress-uncompress" class="headerlink" title="compress/uncompress"></a>compress/uncompress</h3><p> compress [-dfvcVr] [-b maxbits] [file …]</p>
<pre><code>-d: 解压缩,相当于uncompress
-c: 结果输出至标准输出,不删除原文件
-v: 显示详情
</code></pre><p> uncompress 解压缩<br> zcat file.Z &gt;file</p>
<h3 id="gzip-gunzip"><a href="#gzip-gunzip" class="headerlink" title="gzip/gunzip"></a>gzip/gunzip</h3><p>gzip [OPTION]… FILE …</p>
<pre><code>-d: 解压缩,相当于gunzip
-c: 将压缩或解压缩的结果输出至标准输出
-#:1-9,指定压缩比,值越大压缩比越大
zcat:不显式解压缩的前提下查看文本文件内容
实例:
gzip -c messages &gt;messages.gz
gzip -c -d messages.gz &gt; messages
zcat messages.gz &gt; messages
</code></pre><h3 id="bzip2-bunzip2-bzcat"><a href="#bzip2-bunzip2-bzcat" class="headerlink" title="bzip2/bunzip2/bzcat"></a>bzip2/bunzip2/bzcat</h3><p>bzip2 [OPTION]… FILE …</p>
<pre><code>-k: keep, 保留原文件
-d:解压缩
-#:1-9,压缩比,默认为6
</code></pre><p>bzcat:不显式解压缩的前提下查看文本文件内容</p>
<h3 id="xz-unxz-xzcat"><a href="#xz-unxz-xzcat" class="headerlink" title="xz/unxz/xzcat"></a>xz/unxz/xzcat</h3><p>xz [OPTION]… FILE …</p>
<pre><code>-k: keep, 保留原文件
-d:解压缩
-#:1-9,压缩比,默认为6
</code></pre><p>xzcat: 不显式解压缩的前提下查看文本文件内容</p>
<h2 id="tar工具"><a href="#tar工具" class="headerlink" title="tar工具"></a>tar工具</h2><p>Tar(Tape ARchive,磁带归档的缩写)<br>tar [OPTION]…<br>(1) 创建归档<br>tar -c -f /PATH/TO/SOMEFILE.tar FILE…<br>(2) 追加文件至归档: 注:不支持对压缩文件追加<br>tar -r -f /PATH/TO/SOMEFILE.tar FILE…<br>(3) 查看归档文件中的文件列表<br>tar -t -f /PATH/TO/SOMEFILE.tar<br>(4) 展开归档<br>tar -x -f /PATH/TO/SOMEFILE.tar<br>tar -x -f /PATH/TO/SOMEFILE.tar -C /PATH/<br>(5) 结合压缩工具实现:归档并压缩<br>-j: bzip2, -z: gzip, -J: xz<br>-T选项指定输入文件,-X选项指定包含要排除的文件列表<br>tar zcvf mybackup.tgz -T /root/includefilelist -X<br>/root/excludefilelist<br>分割大的 tar 文件为多份小文件:<br>split –b Size –d tar-file-name prefix-name<br>split -b 1M –d mybackup.tgz mybackup-parts<br>split -b 1M mybackup.tgz mybackup-parts<br>合并:<br>cat mybackup-parts* &gt; mybackup.tar.gz</p>
<h2 id="cpio"><a href="#cpio" class="headerlink" title="cpio"></a>cpio</h2><p>cpio命令是通过重定向的方式将文件打包备份，还原恢复的工具，它可以解压已”.cpio”结尾或者”.tar”<br>cpio [选项] &gt; 文件名或者设备名<br>cpio [选项] &lt; 文件名或者设备名<br>选项</p>
<pre><code>-o 将文件拷贝打包成文件或者将文件输出到设备上
-i 解包，将打包文件解压或将设备上的备份还原到系统
-t 预览，查看文件内容或者输出到设备上的文件内容
-v 显示打包过程中的文件名称
-d 解包生产目录，在cpio还原时，自动的建立目录
-c 一种较新的存储方式
</code></pre><p>示例</p>
<pre><code>将Etc目录备份
    fin ./etc -print|cpio -ov &gt;etc.cpio
内容预览
    cpio -tv &lt; etc.cpio 
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ls /etc</div><div class="line">pwd</div><div class="line">ls</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Hee shen" />
          <p class="site-author-name" itemprop="name">Hee shen</p>
           
              <p class="site-description motion-element" itemprop="description">my notes</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hee shen</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  





  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

</body>
</html>
